{"ast":null,"code":"import _slicedToArray from\"/home/enrique/projects/prueba/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState,useEffect}from\"react\";import\"./Map.css\";import MapContext from\"./MapContext\";import*as ol from\"ol\";var Map=function Map(_ref){var children=_ref.children,zoom=_ref.zoom,center=_ref.center;var mapRef=useRef();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),map=_useState2[0],setMap=_useState2[1];// on component mount\nuseEffect(function(){var options={view:new ol.View({zoom:zoom,center:center}),layers:[],controls:[],overlays:[]};var mapObject=new ol.Map(options);mapObject.setTarget(mapRef.current);setMap(mapObject);return function(){return mapObject.setTarget(undefined);};},[]);// zoom change handler\nuseEffect(function(){if(!map)return;map.getView().setZoom(zoom);},[zoom]);// center change handler\nuseEffect(function(){if(!map)return;map.getView().setCenter(center);},[center]);return/*#__PURE__*/React.createElement(MapContext.Provider,{value:{map:map}},/*#__PURE__*/React.createElement(\"div\",{ref:mapRef,className:\"ol-map\"},children));};export default Map;","map":{"version":3,"sources":["/home/enrique/projects/prueba/src/Map/Map.js"],"names":["React","useRef","useState","useEffect","MapContext","ol","Map","children","zoom","center","mapRef","map","setMap","options","view","View","layers","controls","overlays","mapObject","setTarget","current","undefined","getView","setZoom","setCenter"],"mappings":"oJAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAO,GAAKC,CAAAA,EAAZ,KAAoB,IAApB,CAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,MAAgC,IAA7BC,CAAAA,QAA6B,MAA7BA,QAA6B,CAAnBC,IAAmB,MAAnBA,IAAmB,CAAbC,MAAa,MAAbA,MAAa,CAC3C,GAAMC,CAAAA,MAAM,CAAGT,MAAM,EAArB,CAD2C,cAErBC,QAAQ,CAAC,IAAD,CAFa,wCAEpCS,GAFoC,eAE/BC,MAF+B,eAI3C;AACAT,SAAS,CAAC,UAAM,CACf,GAAIU,CAAAA,OAAO,CAAG,CACbC,IAAI,CAAE,GAAIT,CAAAA,EAAE,CAACU,IAAP,CAAY,CAAEP,IAAI,CAAJA,IAAF,CAAQC,MAAM,CAANA,MAAR,CAAZ,CADO,CAEbO,MAAM,CAAE,EAFK,CAGbC,QAAQ,CAAE,EAHG,CAIbC,QAAQ,CAAE,EAJG,CAAd,CAOA,GAAIC,CAAAA,SAAS,CAAG,GAAId,CAAAA,EAAE,CAACC,GAAP,CAAWO,OAAX,CAAhB,CACAM,SAAS,CAACC,SAAV,CAAoBV,MAAM,CAACW,OAA3B,EACAT,MAAM,CAACO,SAAD,CAAN,CAEA,MAAO,kBAAMA,CAAAA,SAAS,CAACC,SAAV,CAAoBE,SAApB,CAAN,EAAP,CACA,CAbQ,CAaN,EAbM,CAAT,CAeA;AACAnB,SAAS,CAAC,UAAM,CACf,GAAI,CAACQ,GAAL,CAAU,OAEVA,GAAG,CAACY,OAAJ,GAAcC,OAAd,CAAsBhB,IAAtB,EACA,CAJQ,CAIN,CAACA,IAAD,CAJM,CAAT,CAMA;AACAL,SAAS,CAAC,UAAM,CACf,GAAI,CAACQ,GAAL,CAAU,OAEVA,GAAG,CAACY,OAAJ,GAAcE,SAAd,CAAwBhB,MAAxB,EACA,CAJQ,CAIN,CAACA,MAAD,CAJM,CAAT,CAMA,mBACC,oBAAC,UAAD,CAAY,QAAZ,EAAqB,KAAK,CAAE,CAAEE,GAAG,CAAHA,GAAF,CAA5B,eACC,2BAAK,GAAG,CAAED,MAAV,CAAkB,SAAS,CAAC,QAA5B,EACEH,QADF,CADD,CADD,CAOA,CAzCD,CA2CA,cAAeD,CAAAA,GAAf","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\"\nimport \"./Map.css\";\nimport MapContext from \"./MapContext\";\nimport * as ol from \"ol\";\n\nconst Map = ({ children, zoom, center }) => {\n\tconst mapRef = useRef();\n\tconst [map, setMap] = useState(null);\n\n\t// on component mount\n\tuseEffect(() => {\n\t\tlet options = {\n\t\t\tview: new ol.View({ zoom, center }),\n\t\t\tlayers: [],\n\t\t\tcontrols: [],\n\t\t\toverlays: []\n\t\t};\n\n\t\tlet mapObject = new ol.Map(options);\n\t\tmapObject.setTarget(mapRef.current);\n\t\tsetMap(mapObject);\n\n\t\treturn () => mapObject.setTarget(undefined);\n\t}, []);\n\n\t// zoom change handler\n\tuseEffect(() => {\n\t\tif (!map) return;\n\n\t\tmap.getView().setZoom(zoom);\n\t}, [zoom]);\n\n\t// center change handler\n\tuseEffect(() => {\n\t\tif (!map) return;\n\n\t\tmap.getView().setCenter(center)\n\t}, [center])\n\n\treturn (\n\t\t<MapContext.Provider value={{ map }}>\n\t\t\t<div ref={mapRef} className=\"ol-map\">\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</MapContext.Provider>\n\t)\n}\n\nexport default Map;"]},"metadata":{},"sourceType":"module"}