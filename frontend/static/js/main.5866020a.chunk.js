(this["webpackJsonpopenlayers-map"]=this["webpackJsonpopenlayers-map"]||[]).push([[0],{103:function(e,t,n){e.exports=n(111)},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var r=n(13),a=n.n(r),o=n(84),c=n.n(o),u=(n(108),n(59)),l=(n(109),n(110),new a.a.createContext),i=n(88),s=n(115),f=function(e){var t=e.children,n=e.zoom,o=e.center,c=Object(r.useRef)(),f=Object(r.useState)(null),d=Object(u.a)(f,2),m=d[0],v=d[1];return Object(r.useEffect)((function(){var e={view:new i.a({zoom:n,center:o}),layers:[],controls:[],overlays:[]},t=new s.a(e);return t.setTarget(c.current),v(t),function(){return t.setTarget(void 0)}}),[]),Object(r.useEffect)((function(){m&&m.getView().setZoom(n)}),[n]),Object(r.useEffect)((function(){m&&m.getView().setCenter(o)}),[o]),a.a.createElement(l.Provider,{value:{map:m}},a.a.createElement("div",{ref:c,className:"ol-map"},t))},d=function(e){var t=e.children;return a.a.createElement("div",null,t)},m=n(85),v=n(116),w=n(5),b=n(80),p=n(69),E=function(e){var t=e.style,n=e.zIndex,a=void 0===n?0:n,o=Object(r.useContext)(l).map,c=new v.a({format:new b.a,loader:function(e,t,n){var r=Object(w.o)(e,n,"EPSG:4326"),a=new XMLHttpRequest;a.open("POST","https://overpass-api.de/api/interpreter"),a.addEventListener("load",(function(){var e=(new b.a).readFeatures(a.responseText,{featureProjection:o.getView().getProjection()});c.addFeatures(e)}));var u="(way[building]("+(r[1]-.02*r[1]+","+(.02*r[0]+r[0])+","+(.02*r[3]+r[3])+","+(r[2]-.02*r[2]))+");); out meta; >; out meta qt;";a.send(u)},strategy:p.b});return Object(r.useEffect)((function(){if(o){var e=new m.a({source:c,style:t});return o.addLayer(e),e.setZIndex(a),function(){o&&o.removeLayer(e)}}}),[o]),null},g=n(87),j=function(e){var t=e.source,n=e.zIndex,a=void 0===n?0:n,o=Object(r.useContext)(l).map;return Object(r.useEffect)((function(){if(o){var e=new g.a({source:t,zIndex:a});return o.addLayer(e),e.setZIndex(a),function(){o&&o.removeLayer(e)}}}),[o]),null},y=n(79),O=n(81),h=n(60),x=n(76);n(86);var P=n(114);var k=function(){return new P.a},z=function(e){var t=e.children;return a.a.createElement("div",null,t)},I=n(83),L=function(){var e=Object(r.useContext)(l).map;return Object(r.useEffect)((function(){if(e){var t=new I.a({});return e.controls.push(t),function(){return e.controls.remove(t)}}}),[e]),null},S={Point:new y.b({image:new O.a({radius:10,fill:null,stroke:new h.a({color:"magenta"})})}),Polygon:new y.b({stroke:new h.a({color:"blue",lineDash:[4],width:3}),fill:new x.a({color:"rgba(0, 0, 255, 0.1)"})}),MultiPolygon:new y.b({stroke:new h.a({color:"yellow",width:1}),fill:new x.a({color:"rgba(0, 0, 255, 0.1)"})})},C=function(){var e=Object(r.useState)([-3.92907,38.98626]),t=Object(u.a)(e,2),n=t[0],o=(t[1],Object(r.useState)(9)),c=Object(u.a)(o,2),l=c[0];c[1];return a.a.createElement("div",null,a.a.createElement(f,{center:Object(w.d)(n),zoom:l},a.a.createElement(d,null,a.a.createElement(j,{source:k(),zIndex:0}),a.a.createElement(E,{style:S.MultiPolygon})),a.a.createElement(z,null,a.a.createElement(L,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.5866020a.chunk.js.map