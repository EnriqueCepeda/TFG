{"ast":null,"code":"import proj from './Proj';\nimport transform from './transform';\nvar wgs84 = proj('WGS84');\n\nfunction transformer(from, to, coords) {\n  var transformedArray, out, keys;\n\n  if (Array.isArray(coords)) {\n    transformedArray = transform(from, to, coords) || {\n      x: NaN,\n      y: NaN\n    };\n\n    if (coords.length > 2) {\n      if (typeof from.name !== 'undefined' && from.name === 'geocent' || typeof to.name !== 'undefined' && to.name === 'geocent') {\n        if (typeof transformedArray.z === 'number') {\n          return [transformedArray.x, transformedArray.y, transformedArray.z].concat(coords.splice(3));\n        } else {\n          return [transformedArray.x, transformedArray.y, coords[2]].concat(coords.splice(3));\n        }\n      } else {\n        return [transformedArray.x, transformedArray.y].concat(coords.splice(2));\n      }\n    } else {\n      return [transformedArray.x, transformedArray.y];\n    }\n  } else {\n    out = transform(from, to, coords);\n    keys = Object.keys(coords);\n\n    if (keys.length === 2) {\n      return out;\n    }\n\n    keys.forEach(function (key) {\n      if (typeof from.name !== 'undefined' && from.name === 'geocent' || typeof to.name !== 'undefined' && to.name === 'geocent') {\n        if (key === 'x' || key === 'y' || key === 'z') {\n          return;\n        }\n      } else {\n        if (key === 'x' || key === 'y') {\n          return;\n        }\n      }\n\n      out[key] = coords[key];\n    });\n    return out;\n  }\n}\n\nfunction checkProj(item) {\n  if (item instanceof proj) {\n    return item;\n  }\n\n  if (item.oProj) {\n    return item.oProj;\n  }\n\n  return proj(item);\n}\n\nfunction proj4(fromProj, toProj, coord) {\n  fromProj = checkProj(fromProj);\n  var single = false;\n  var obj;\n\n  if (typeof toProj === 'undefined') {\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  } else if (typeof toProj.x !== 'undefined' || Array.isArray(toProj)) {\n    coord = toProj;\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  }\n\n  toProj = checkProj(toProj);\n\n  if (coord) {\n    return transformer(fromProj, toProj, coord);\n  } else {\n    obj = {\n      forward: function (coords) {\n        return transformer(fromProj, toProj, coords);\n      },\n      inverse: function (coords) {\n        return transformer(toProj, fromProj, coords);\n      }\n    };\n\n    if (single) {\n      obj.oProj = toProj;\n    }\n\n    return obj;\n  }\n}\n\nexport default proj4;","map":{"version":3,"sources":["/home/enrique/projects/TFG/node_modules/proj4/lib/core.js"],"names":["proj","transform","wgs84","transformer","from","to","coords","transformedArray","out","keys","Array","isArray","x","NaN","y","length","name","z","concat","splice","Object","forEach","key","checkProj","item","oProj","proj4","fromProj","toProj","coord","single","obj","forward","inverse"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,IAAIC,KAAK,GAAGF,IAAI,CAAC,OAAD,CAAhB;;AAEA,SAASG,WAAT,CAAqBC,IAArB,EAA2BC,EAA3B,EAA+BC,MAA/B,EAAuC;AACrC,MAAIC,gBAAJ,EAAsBC,GAAtB,EAA2BC,IAA3B;;AACA,MAAIC,KAAK,CAACC,OAAN,CAAcL,MAAd,CAAJ,EAA2B;AACzBC,IAAAA,gBAAgB,GAAGN,SAAS,CAACG,IAAD,EAAOC,EAAP,EAAWC,MAAX,CAAT,IAA+B;AAACM,MAAAA,CAAC,EAAEC,GAAJ;AAASC,MAAAA,CAAC,EAAED;AAAZ,KAAlD;;AACA,QAAIP,MAAM,CAACS,MAAP,GAAgB,CAApB,EAAuB;AACrB,UAAK,OAAOX,IAAI,CAACY,IAAZ,KAAqB,WAArB,IAAoCZ,IAAI,CAACY,IAAL,KAAc,SAAnD,IAAkE,OAAOX,EAAE,CAACW,IAAV,KAAmB,WAAnB,IAAkCX,EAAE,CAACW,IAAH,KAAY,SAApH,EAAgI;AAC9H,YAAI,OAAOT,gBAAgB,CAACU,CAAxB,KAA8B,QAAlC,EAA4C;AAC1C,iBAAO,CAACV,gBAAgB,CAACK,CAAlB,EAAqBL,gBAAgB,CAACO,CAAtC,EAAyCP,gBAAgB,CAACU,CAA1D,EAA6DC,MAA7D,CAAoEZ,MAAM,CAACa,MAAP,CAAc,CAAd,CAApE,CAAP;AACD,SAFD,MAEO;AACL,iBAAO,CAACZ,gBAAgB,CAACK,CAAlB,EAAqBL,gBAAgB,CAACO,CAAtC,EAAyCR,MAAM,CAAC,CAAD,CAA/C,EAAoDY,MAApD,CAA2DZ,MAAM,CAACa,MAAP,CAAc,CAAd,CAA3D,CAAP;AACD;AACF,OAND,MAMO;AACL,eAAO,CAACZ,gBAAgB,CAACK,CAAlB,EAAqBL,gBAAgB,CAACO,CAAtC,EAAyCI,MAAzC,CAAgDZ,MAAM,CAACa,MAAP,CAAc,CAAd,CAAhD,CAAP;AACD;AACF,KAVD,MAUO;AACL,aAAO,CAACZ,gBAAgB,CAACK,CAAlB,EAAqBL,gBAAgB,CAACO,CAAtC,CAAP;AACD;AACF,GAfD,MAeO;AACLN,IAAAA,GAAG,GAAGP,SAAS,CAACG,IAAD,EAAOC,EAAP,EAAWC,MAAX,CAAf;AACAG,IAAAA,IAAI,GAAGW,MAAM,CAACX,IAAP,CAAYH,MAAZ,CAAP;;AACA,QAAIG,IAAI,CAACM,MAAL,KAAgB,CAApB,EAAuB;AACrB,aAAOP,GAAP;AACD;;AACDC,IAAAA,IAAI,CAACY,OAAL,CAAa,UAAUC,GAAV,EAAe;AAC1B,UAAK,OAAOlB,IAAI,CAACY,IAAZ,KAAqB,WAArB,IAAoCZ,IAAI,CAACY,IAAL,KAAc,SAAnD,IAAkE,OAAOX,EAAE,CAACW,IAAV,KAAmB,WAAnB,IAAkCX,EAAE,CAACW,IAAH,KAAY,SAApH,EAAgI;AAC9H,YAAIM,GAAG,KAAK,GAAR,IAAeA,GAAG,KAAK,GAAvB,IAA8BA,GAAG,KAAK,GAA1C,EAA+C;AAC7C;AACD;AACF,OAJD,MAIO;AACL,YAAIA,GAAG,KAAK,GAAR,IAAeA,GAAG,KAAK,GAA3B,EAAgC;AAC9B;AACD;AACF;;AACDd,MAAAA,GAAG,CAACc,GAAD,CAAH,GAAWhB,MAAM,CAACgB,GAAD,CAAjB;AACD,KAXD;AAYA,WAAOd,GAAP;AACD;AACF;;AAED,SAASe,SAAT,CAAmBC,IAAnB,EAAyB;AACvB,MAAIA,IAAI,YAAYxB,IAApB,EAA0B;AACxB,WAAOwB,IAAP;AACD;;AACD,MAAIA,IAAI,CAACC,KAAT,EAAgB;AACd,WAAOD,IAAI,CAACC,KAAZ;AACD;;AACD,SAAOzB,IAAI,CAACwB,IAAD,CAAX;AACD;;AAED,SAASE,KAAT,CAAeC,QAAf,EAAyBC,MAAzB,EAAiCC,KAAjC,EAAwC;AACtCF,EAAAA,QAAQ,GAAGJ,SAAS,CAACI,QAAD,CAApB;AACA,MAAIG,MAAM,GAAG,KAAb;AACA,MAAIC,GAAJ;;AACA,MAAI,OAAOH,MAAP,KAAkB,WAAtB,EAAmC;AACjCA,IAAAA,MAAM,GAAGD,QAAT;AACAA,IAAAA,QAAQ,GAAGzB,KAAX;AACA4B,IAAAA,MAAM,GAAG,IAAT;AACD,GAJD,MAIO,IAAI,OAAOF,MAAM,CAAChB,CAAd,KAAoB,WAApB,IAAmCF,KAAK,CAACC,OAAN,CAAciB,MAAd,CAAvC,EAA8D;AACnEC,IAAAA,KAAK,GAAGD,MAAR;AACAA,IAAAA,MAAM,GAAGD,QAAT;AACAA,IAAAA,QAAQ,GAAGzB,KAAX;AACA4B,IAAAA,MAAM,GAAG,IAAT;AACD;;AACDF,EAAAA,MAAM,GAAGL,SAAS,CAACK,MAAD,CAAlB;;AACA,MAAIC,KAAJ,EAAW;AACT,WAAO1B,WAAW,CAACwB,QAAD,EAAWC,MAAX,EAAmBC,KAAnB,CAAlB;AACD,GAFD,MAEO;AACLE,IAAAA,GAAG,GAAG;AACJC,MAAAA,OAAO,EAAE,UAAU1B,MAAV,EAAkB;AACzB,eAAOH,WAAW,CAACwB,QAAD,EAAWC,MAAX,EAAmBtB,MAAnB,CAAlB;AACD,OAHG;AAIJ2B,MAAAA,OAAO,EAAE,UAAU3B,MAAV,EAAkB;AACzB,eAAOH,WAAW,CAACyB,MAAD,EAASD,QAAT,EAAmBrB,MAAnB,CAAlB;AACD;AANG,KAAN;;AAQA,QAAIwB,MAAJ,EAAY;AACVC,MAAAA,GAAG,CAACN,KAAJ,GAAYG,MAAZ;AACD;;AACD,WAAOG,GAAP;AACD;AACF;;AACD,eAAeL,KAAf","sourcesContent":["import proj from './Proj';\nimport transform from './transform';\nvar wgs84 = proj('WGS84');\n\nfunction transformer(from, to, coords) {\n  var transformedArray, out, keys;\n  if (Array.isArray(coords)) {\n    transformedArray = transform(from, to, coords) || {x: NaN, y: NaN};\n    if (coords.length > 2) {\n      if ((typeof from.name !== 'undefined' && from.name === 'geocent') || (typeof to.name !== 'undefined' && to.name === 'geocent')) {\n        if (typeof transformedArray.z === 'number') {\n          return [transformedArray.x, transformedArray.y, transformedArray.z].concat(coords.splice(3));\n        } else {\n          return [transformedArray.x, transformedArray.y, coords[2]].concat(coords.splice(3));\n        }\n      } else {\n        return [transformedArray.x, transformedArray.y].concat(coords.splice(2));\n      }\n    } else {\n      return [transformedArray.x, transformedArray.y];\n    }\n  } else {\n    out = transform(from, to, coords);\n    keys = Object.keys(coords);\n    if (keys.length === 2) {\n      return out;\n    }\n    keys.forEach(function (key) {\n      if ((typeof from.name !== 'undefined' && from.name === 'geocent') || (typeof to.name !== 'undefined' && to.name === 'geocent')) {\n        if (key === 'x' || key === 'y' || key === 'z') {\n          return;\n        }\n      } else {\n        if (key === 'x' || key === 'y') {\n          return;\n        }\n      }\n      out[key] = coords[key];\n    });\n    return out;\n  }\n}\n\nfunction checkProj(item) {\n  if (item instanceof proj) {\n    return item;\n  }\n  if (item.oProj) {\n    return item.oProj;\n  }\n  return proj(item);\n}\n\nfunction proj4(fromProj, toProj, coord) {\n  fromProj = checkProj(fromProj);\n  var single = false;\n  var obj;\n  if (typeof toProj === 'undefined') {\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  } else if (typeof toProj.x !== 'undefined' || Array.isArray(toProj)) {\n    coord = toProj;\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  }\n  toProj = checkProj(toProj);\n  if (coord) {\n    return transformer(fromProj, toProj, coord);\n  } else {\n    obj = {\n      forward: function (coords) {\n        return transformer(fromProj, toProj, coords);\n      },\n      inverse: function (coords) {\n        return transformer(toProj, fromProj, coords);\n      }\n    };\n    if (single) {\n      obj.oProj = toProj;\n    }\n    return obj;\n  }\n}\nexport default proj4;"]},"metadata":{},"sourceType":"module"}